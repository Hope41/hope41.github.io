<!DOCTYPE html>
<html lang = en-GB id = html>
    <head>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-2MDQ9F697V"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-2MDQ9F697V');
        </script>

        <meta charset = UTF-8>
        <meta name = viewport content = 'width=device-width, initial-scale=1.0'>
        <meta name = description content = "Ray Casting - make a ray casted world in JavaScript with an in-depth tutorial on how it works">
        <meta name = author content = 'Joachim Ford'>

        <meta property = og:title content = 'Ray Casting - Joachim Ford'>
        <meta property = og:description content = "Ray Casting - make a ray casted world in JavaScript with an in-depth tutorial on how it works">
        <meta property = og:image content = https://joachimford.uk/assets/logo.png>

        <link rel="icon" type="image/png" href="/favicon/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg" />
        <link rel="shortcut icon" href="/favicon/favicon.ico" />
        <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png" />
        <meta name="apple-mobile-web-app-title" content="Joachim" />
        <link rel="manifest" href="/favicon/site.webmanifest" />

        <title>Build a Ray Casted World - Joachim Ford</title>
        <link rel = stylesheet href = /assets/styles.css>
        <link rel = stylesheet href = /assets/topnav.css>
        <link rel = stylesheet href = /assets/main.css>
        <link rel = stylesheet href = /assets/hero.css>
        <link rel = stylesheet href = /assets/infinite-carousel.css>
        <link rel = stylesheet href = /assets/forms.css>
        <link rel = stylesheet href = /assets/footer.css>
        <link rel = stylesheet href = /assets/a.css>
        <link rel = stylesheet href = /assets/demo.css>
        <link rel = stylesheet href = /assets/cool-text.css>
        <link rel = stylesheet href = /assets/deco.css>
        <link rel = stylesheet href = /assets/comment.css>
        <link rel = stylesheet href = /assets/checkbox.css>
        <link rel = stylesheet href = /assets/popup.css>
        <link rel = stylesheet href = /assets/lightbox.css>
        <link rel = stylesheet href = /assets/code.css>

        <link rel = stylesheet href = /assets/controls.css>
    </head>
    <body class = dark>
        <div class = over-hold>
            <section class = topnav>
                <div class = topnav-container>
                    <a class = topnav-home href = /index#>
                        <div class = topnav-logo>
                            <img src = /assets/logo.png alt = 'Pixel art of a young boy with black hair'>
                        </div>
                        <div class = topnav-title>
                            <h2>Joachim</h2>
                            <h2>Ford.uk</h2>
                        </div>
                    </a>
                    <div class = topnav-menu>
                        <div class = topnav-menu-wide>
                            <a href = /games#>Games</a>
                            <a href = /projects# class = active>Projects</a>
                            <a href = /blog#>Blog</a>
                        </div>

                        <div class = topnav-separator></div>

                        <div id = color-theme>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="-6.5 0 13 13">
                                <path d="M 0 0 A 2.25 2.25 90 0 0 0 13 A 2.25 2.25 90 0 0 0 0 Z M 0 2 A 2.25 2.25 90 0 1 0 11 Z"/>
                            </svg>
                        </div>

                        <div class = topnav-separator></div>

                        <div class = topnav-vertical-menu>
                            <a href = /news#>News</a>
                            <a href = /about#>About</a>
                            <a href = /contact#>Contact</a>
                        </div>
                    </div>

                    <div id = nav-bars>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="-0.5 -0.5 4 3">
                            <path stroke-width=".5" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 0 0 L 3 0 M 0 1 L 3 1 M 0 2 L 2 2"/>
                        </svg>
                    </div>
                </div>
            </section>

            <section class = hero-section>
                <div class = hero-background>
                    <img src = /assets/ray-casting-9.png>
                </div>
                <div id = hero class = transparent-bg>
                    <h1 id = hero-text>
                        <div>
                            <span>R</span><span>a</span><span>y</span>&nbsp;<span>C</span><span>a</span><span>s</span><span>t</span><span>i</span><span>n</span><span>g</span>
                        </div>
                    </h1>
                </div>
            </section>

            <section class = main>
                <div class = main-date>27 Mar. 2022</div>
                <div class = 'content top-huge bottom'>
                    <div class = 'demo-preview-hold bottom-big-pad'>
                        <a href = /ray-casting target = _blank>
                            <div class = 'demo-preview demo-play bottom-small'>
                                <img src = /assets/ray-casting-4.png alt = "Neon ray casting demo online">
                                <div class = demo-play-button>PLAY</div>
                            </div>
                        </a>
                    </div>

                    <h2 class = 'h3 top-big'>Build a Ray Casted World in JavaScript</h2>
                    <div class = 'text shift bottom-big'>
                        <p class = spaced>
                            Ray Casting: have you heard of it before? It's a really
                            quick and easy way to make 3D-looking corridors in a
                            tiny amount of code. Naturally, this means ray casting
                            can be fairly limiting when it comes to flexibility.
                        </p>
                        <p class = spaced>
                            That's why nowadays a lot of people have turned to
                            methods like ray tracing, ray marching, ray combustion,
                            ray existentially questioning their life choices, and
                            ray realising they should've just used a game engine.
                        </p>
                        <p class = spaced>
                            On the other hand, ray casting is a great way to learn
                            about the basics of 3D graphics. It's a simple concept
                            that can be implemented with just a few lines of code. In
                            this tutorial, I'll show you how to make a ray casted world
                            in JavaScript.
                        </p>
                    </div>
                </div>

                <div class = 'content right top-huge bottom'>
                    <h2 class = 'h3 right top-big'>Wait... It's Actually 1D?</h2>
                    <div class = 'text right shift'>
                        <p class = spaced>
                            Ray casting is deceptively simple.
                            In fact, it's not really 3D. Technically, it's not
                            even 2D.
                        </p>
                        <p class = spaced>
                            Let me explain. Imagine a 2D circle in a world
                            full of squares. This circle has a very limited
                            perspective - it can't look up or down, only straight
                            ahead.
                        </p>
                        <p class = spaced>
                            From its point of view, the world isn't a full 2D space.
                            It only perceives a series of distances to the nearest
                            walls directly in front of it - essentially, a single
                            line of information. That's what makes ray casting
                            fundamentally 1D: it's just measuring distances and
                            drawing vertical slices based on them.
                        </p>
                    </div>
                </div>

                <div class = 'content top-pad bottom-big-pad'>
                    <div class = 'text shift'>
                        <div class = 'socials top-big'>
                            <a href = https://github.com/Hope41/ray-casting target = _blank>
                                <span>Star on GitHub</span>
                                <img src = /assets/star.svg alt = 'star icon'>
                            </a>
                            <a href = /games#>
                                <span>Play some games</span>
                                <img src = /assets/clock.svg alt = 'star icon'>
                            </a>
                        </div>
                    </div>
                </div>

                <div class = 'content top-huge'>
                    <h2 class = 'h3'>Step 1 - Making the rays</h2>
                    <div class = 'text shift'>
                        <p class = spaced>
                            Create a bunch of rays (or you could just call them lines),
                            but make sure each ray stops when it hits an obstacle,
                            and that it has a maximum length.
                        </p>
                    </div>
                    <iframe src = /assets/ray-casting-1 class = demo-frame></iframe>

                    <h2 class = 'h3 top-huge'>Step 2 - Interpreting Ray Location and Length</h2>
                    <div class = 'text shift'>
                        <p class = spaced>
                            On your real screen, draw a rectangle for each ray you have.
                            Its position is based on the ray you're dealing with. Its height
                            is determined by the length of the ray.

                            <span class = 'bullet-point big-pad top'>
                                The rectangle's position matches the ray's position.
                            </span>
                            <span class = 'bullet-point big-pad bottom'>
                                Base the height on ray length - longer rays make shorter rectangles
                            </span>

                            Since we've only been using just ten rays so far,
                            the resulting screen doesn't look great. But after increasing
                            the amount of rays to 100 we can achieve the result below.
                        </p>
                    </div>
                    <iframe src = /assets/ray-casting-2 class = demo-frame></iframe>

                    <h2 class = 'h3 top-huge'>Step 3 - Final Enhancements</h2>
                    <div class = 'text shift'>
                        <p class = spaced>
                            Well, no matter what you think of it, you have already
                            created a ray casted scene. That wasn't so hard was it?
                        </p>

                        <p class = spaced>
                            Ray casting can actually be really useful for certain
                            types of games. A taxi delivery game or a maze would
                            work well, or even an FPS, if you like that kind of thing!
                        </p>

                        <p class = spaced>
                            As a final note, I decided to really see how short I
                            could get the ray casting example. Turns out, the entire code
                            can sit quite happily at 273 characters. You can try
                            getting it even smaller if you like!
                        </p>
                    </div>

                    <iframe src = /assets/ray-casting-3 class = 'demo-frame top bottom'></iframe>

                    <div class = 'code-holder top bottom'>
                        <div class = code-buttons>
                            <a target = _blank href = /assets/ray-casting-3>
                                <div data-tip = 'run' class = 'code-run code-button-icon'>
                                    <img src = /assets/run.svg alt = 'play icon'>
                                </div>
                            </a>
                            <div data-tip = 'copy' class = 'code-copy code-button-icon'>
                                <img src = /assets/copy.svg alt = 'copy icon'>
                            </div>
                        </div>
                        <pre class = code><span style="color:var(--operator)">&lt;</span><span style="color:var(--variable)">canvas</span> <span style="color:var(--variable)">id</span><span style="color:var(--operator)">=</span><span style="color:var(--variable)">c</span><span style="color:var(--operator)">>&lt;</span><span style="color:var(--variable)">body</span> <span style="color:var(--variable)">onload</span><span style="color:var(--operator)">=</span><span style="color:var(--string)">"u=_=>{W=c.width=innerWidth,H=c.height=innerHeight;for(r=i=99;i--;c.getContext`2d`.fillRect(i*W/r,H/2-h/2,h/40,h))for(j=0;++j&lt;r;~Math.tan(~(_/r+Math.cos(A=i/r-.5,h=9/j*(W+H)/2)*.1*j)*~(-1.5+Math.sin(A)*.1*j))?0:j=r);requestAnimationFrame(u)},u()"</span><span style="color:var(--operator)">>&lt;/</span><span style="color:var(--variable)">body</span><span style="color:var(--operator)">></span></pre>
                    </div>

                    <div class = 'boxed bottom'>
                        <div class = 'text shift'>
                            Interested in learning more about getting code into
                            the smallest possible size?
                            Check out the blog
                            <a class = link target = _blank href = /blog/platform-game-in-1k#>Make a Platform Game in 1K of JavaScript</a>
                            to learn about the art of size coding!
                        </div>
                    </div>
                </div>

                <div class = 'content bottom-huge top-pad'>
                    <h2 class = 'h3 top-big'>Free and Open Source!</h2>
                    <div class = 'text shift bottom-big'>
                        <p class = spaced>
                            As a rule, all my projects are free and have their source
                            code disclosed. Feel free to make your own versions
                            of this project on GitHub! Licensed under
                            <a class = 'link block' target = _blank href = https://creativecommons.org/licenses/by-sa/4.0>
                                CC-BY-SA-4.0</a>.
                        </p>
                    </div>
                </div>

                <div class = 'content top bottom-huge'>
                    <form class = 'comment bottom-big-pad' data-url = RayCasting>
                        <h3 class = 'h3 top-small bottom-small center'>
                            <span class = slightly-dim>
                                Please leave a comment!
                            </span>
                        </h3>

                        <input class = form placeholder = 'name'>
                        <label for = notify class = checkbox-label>
                            <div class = checkbox-hold>
                                <input id = notify class = checkbox data-checked type = checkbox>
                            </div>
                            <span class = 'smallish slightly-dim'>Make this comment public</span>
                        </label>

                        <div class = comment-box-hold>
                            <textarea class = comment-box required contenteditable placeholder = 'Write your message here'></textarea>
                        </div>

                        <input class = form type = email placeholder = 'email (optional)'>
                        <button class = comment-send>Post Comment</button>
                        <span class = 'dim small-font shift-right right'>(Your email will never be shared or sold. <button class = popup-link data-id = terms type = button>Terms</button>)</span>
                    </form>
                </div>
            </section>

            <section class = footer>
                <div class = footer-left>
                    <span>&copy; Joachim Ford <span id = year>2025</span></span>
                    <span>All rights reserved</span>
                    <span class = top-small>
                        <form class = 'subscribe-form-tiny'>
                            <div class = flex-x>
                                <input type = email class = form placeholder = 'email' required>
                                <button class = send-form-button type = submit>
                                    Subscribe
                                </button>
                            </div>
                        </form>
                    </span>
                    <div class = 'footer-socials top-small'>
                        <a href = mailto:hi@joachimford.uk target = _blank><img src = /assets/mail.svg alt = 'email icon'></a>
                        <a href = https://github.com/Hope41 target = _blank><img src = /assets/github.svg alt = 'github icon'></a>
                        <a href = https://youtube.com/@JoachimFord target = _blank><img src = /assets/youtube.svg alt = 'youtube icon'></a>
                        <a href = https://joachimford.itch.io target = _blank><img src = /assets/itch.svg alt = 'itch.io icon'></a>
                        <a href = https://x.com/JoachimFord target = _blank><img src = /assets/x.svg alt = 'x logo'></a>
                    </div>
                </div>
                <div class = footer-right>
                    <a href = /index# class = basic-link>Home</a>
                    <a href = /games# class = basic-link>Games</a>
                    <a href = /projects# class = basic-link>Projects</a>
                    <a href = /blog# class = basic-link>Blog</a>
                    <a href = /news# class = basic-link>News</a>
                    <a href = /about# class = basic-link>About</a>
                    <a href = /contact# class = basic-link>Contact</a>
                </div>
            </section>
        </div>

        <div class = popup id = terms>
            <div class = popup-text-hold>
                <div class = popup-close data-id = terms>
                    <img src = /assets/close.svg>
                </div>
                <div class = popup-text>
                    <h2 class = h4><span class = gray-green>Posting a Comment</span></h2>
                    <h2 class = h2>Terms</h2>
                    <div class = 'text shift-right'>
                        <p class = spaced>
                            <span class = 'bullet-point big-pad'>
                                If you post your comment publicly, you agree to
                                have your <b>name</b> and <b>message</b> posted
                                on this website. Your comment may also appear in
                                advertisements for this site.
                            </span>
                        </p>
                        <p class = spaced>
                            <span class = 'bullet-point big-pad'>
                                By providing an email address, you will be notified
                                of any replies. I may also respond to you directly
                                via the email address provided.
                            </span>
                        </p>
                        <p class = spaced>
                            Your email will only be used for these purposes
                            and will never be published, shared or sold.
                        </p>
                        <p class = 'spaced smallish'>
                            The only catch is I get to make you a profile picture
                            based on your name
                            <img class = emoji src = /assets/Microsoft-Fluentui-Emoji-3d-Smirking-Face-3d.svg>
                        </p>
                        <button class = popup-close data-id = terms>
                            I Understand
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id = lightbox-overlay>
            <div id = lightbox-topnav>
                <div id = lightbox-copy class = lightbox-button>
                    <img src = /assets/copy.svg>
                </div>
                <div id = lightbox-download class = lightbox-button>
                    <img src = /assets/download.svg>
                </div>
                <div id = lightbox-close class = lightbox-button>
                    <img src = /assets/close.svg>
                </div>
            </div>
            <img src = /assets/ios-mission-1-thumbnail.png id = lightbox-img>
            <div id = lightbox-prev><img src = /assets/arrow-left.svg></div>
            <div id = lightbox-next><img src = /assets/arrow-right.svg></div>
        </div>

        <script src = /assets/main.js></script>
        <script src = /assets/infinite-carousel.js></script>
        <script src = /assets/hero.js></script>
        <script src = /assets/cool-text.js></script>
        <script src = /assets/popup.js></script>
        <script src = /assets/profile-interact.js></script>
        <script src = /assets/demo-carousel.js></script>
        <script src = /assets/lightbox.js></script>
    </body>
</html>