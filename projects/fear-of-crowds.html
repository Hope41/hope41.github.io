<!DOCTYPE html>
<html lang = en-GB id = html>
    <head>
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-2MDQ9F697V"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-2MDQ9F697V');
        </script>

        <meta charset = UTF-8>
        <meta name = viewport content = 'width=device-width, initial-scale=1.0'>
        <meta name = description content = "Fear of Crowds - a simple JavaScript crowd simulation with procedural generation">
        <meta name = author content = 'Joachim Ford'>

        <meta property = og:title content = 'Fear of Crowds - Joachim Ford'>
        <meta property = og:description content = "Fear of Crowds - a simple JavaScript crowd simulation with procedural generation">
        <meta property = og:image content = https://joachimford.uk/assets/logo.png>

        <link rel="icon" type="image/png" href="/favicon/favicon-96x96.png" sizes="96x96" />
        <link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg" />
        <link rel="shortcut icon" href="/favicon/favicon.ico" />
        <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png" />
        <meta name="apple-mobile-web-app-title" content="Joachim" />
        <link rel="manifest" href="/favicon/site.webmanifest" />

        <title>Fear of Crowds - Joachim Ford</title>
        <link rel = stylesheet href = /assets/styles.css>
        <link rel = stylesheet href = /assets/topnav.css>
        <link rel = stylesheet href = /assets/main.css>
        <link rel = stylesheet href = /assets/hero.css>
        <link rel = stylesheet href = /assets/infinite-carousel.css>
        <link rel = stylesheet href = /assets/forms.css>
        <link rel = stylesheet href = /assets/footer.css>
        <link rel = stylesheet href = /assets/a.css>
        <link rel = stylesheet href = /assets/demo.css>
        <link rel = stylesheet href = /assets/cool-text.css>
        <link rel = stylesheet href = /assets/deco.css>
        <link rel = stylesheet href = /assets/comment.css>
        <link rel = stylesheet href = /assets/checkbox.css>
        <link rel = stylesheet href = /assets/popup.css>
        <link rel = stylesheet href = /assets/lightbox.css>
        <link rel = stylesheet href = /assets/code.css>

        <link rel = stylesheet href = /assets/controls.css>
    </head>
    <body class = dark>
        <div class = over-hold>
            <section class = topnav>
                <div class = topnav-container>
                    <a class = topnav-home href = /index#>
                        <div class = topnav-logo>
                            <img src = /assets/logo.png alt = 'Pixel art of a young boy with black hair'>
                        </div>
                        <div class = topnav-title>
                            <h2>Joachim</h2>
                            <h2>Ford.uk</h2>
                        </div>
                    </a>
                    <div class = topnav-menu>
                        <div class = topnav-menu-wide>
                            <a href = /games#>Games</a>
                            <a href = /projects# class = active>Projects</a>
                            <a href = /blog#>Blog</a>
                        </div>

                        <div class = topnav-separator></div>

                        <div id = color-theme>
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="-6.5 0 13 13">
                                <path d="M 0 0 A 2.25 2.25 90 0 0 0 13 A 2.25 2.25 90 0 0 0 0 Z M 0 2 A 2.25 2.25 90 0 1 0 11 Z"/>
                            </svg>
                        </div>

                        <div class = topnav-separator></div>

                        <div class = topnav-vertical-menu>
                            <a href = /news#>News</a>
                            <a href = /about#>About</a>
                            <a href = /contact#>Contact</a>
                        </div>
                    </div>

                    <div id = nav-bars>
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="-0.5 -0.5 4 3">
                            <path stroke-width=".5" stroke="" stroke-linecap="round" stroke-linejoin="round" d="M 0 0 L 3 0 M 0 1 L 3 1 M 0 2 L 2 2"/>
                        </svg>
                    </div>
                </div>
            </section>

            <section class = hero-section>
                <div class = hero-background>
                    <img src = /assets/fear-of-crowds-2.png>
                </div>
                <div id = hero class = transparent-bg>
                    <h1 id = hero-text>
                        <div>
                            <span>F</span><span>e</span><span>a</span><span>r</span>&nbsp;<span>o</span><span>f</span>&nbsp;<span>C</span><span>r</span><span>o</span><span>w</span><span>d</span><span>s</span>
                        </div>
                    </h1>
                </div>
            </section>

            <section class = main>
                <div class = main-date>15 Jan. 2022</div>
                <div class = 'content top-huge bottom'>
                    <div class = 'demo-preview-hold bottom-big-pad'>
                        <a href = /fear-of-crowds target = _blank>
                            <div class = 'demo-preview demo-play bottom-small'>
                                <img src = /assets/fear-of-crowds-2.png alt = "Anthrophobia - a simple JavaScript crowd simulation with procedural generation">
                                <div class = demo-play-button>PLAY</div>
                            </div>
                        </a>
                    </div>

                    <h2 class = 'h3 top-big'>Procedural Crowd Simulation</h2>
                    <div class = 'text shift bottom-big'>
                        <p class = spaced>
                            It all began when I made a
                            <a class = link href = https://www.dwitter.net/d/24669 target = _blank>
                                dweet
                            </a>
                            on the last day of 2021.
                            It had a bit of potential, and it turned out that both
                            this and my game
                            <a class = link href = /games/snakes-and-ladders target = _blank>
                                Snakes and Ladders
                            </a>
                            were inspired from it.
                        </p>
                        <p class = spaced>
                            Making procedural creatures like these is pretty simple.
                            The idea is to generate a template "box-man" and then
                            apply randomness to it's colour, body height, arm length,
                            leg length, eye distance, eye size ect... and then to
                            move each figure in a random direction, stop at intervals,
                            blink, and move its eyes.
                        </p>
                        <p class = spaced>
                            I think the most notable part of this experiment is
                            the way some of these creatures walk. This function
                            is based on a circular movement that is restricted
                            underneath to create a simple walking motion.
                            Quite a handy trick for when you need it.
                        </p>
                    </div>

                    <iframe src = /assets/fear-of-crowds-1 class = demo-frame></iframe>

                    <div class = 'code-holder top bottom'>
                        <div class = code-buttons>
                            <a target = _blank href = /assets/fear-of-crowds-1>
                                <div data-tip = 'run' class = 'code-run code-button-icon'>
                                    <img src = /assets/run.svg alt = 'play icon'>
                                </div>
                            </a>
                            <div data-tip = 'copy' class = 'code-copy code-button-icon'>
                                <img src = /assets/copy.svg alt = 'copy icon'>
                            </div>
                        </div>
                        <pre class = code><span style="color:var(--comment)">const yDrop = cvs.height / 5

for (let i = 2; i --;) {</span>
    <span style="color:var(--keyword)">const</span> <span style="color:var(--variable)">x</span> <span style="color:var(--operator)">=</span> <span style="color:var(--variable)">cvs</span>.<span style="color:var(--variable)">width</span> <span style="color:var(--operator)">/</span> <span style="color:var(--number)">2</span> <span style="color:var(--operator)">-</span> <span style="color:var(--variable)">Math</span>.<span style="color:var(--function)">sin</span>(<span style="color:var(--variable)">time</span> <span style="color:var(--operator)">+</span> <span style="color:var(--variable)">i</span> <span style="color:var(--operator)">*</span> <span style="color:var(--variable)">Math</span>.<span style="color:var(--variable)">PI</span><span style="color:var(--operator)">)</span> <span style="color:var(--operator)">*</span> <span style="color:var(--variable)">cvs</span>.<span style="color:var(--variable)">height</span> <span style="color:var(--operator)">/</span> <span style="color:var(--number)">4</span> <span style="color:var(--operator)">-</span> <span style="color:var(--number)">10</span>
    <span style="color:var(--keyword)">let</span> <span style="color:var(--variable)">y</span> <span style="color:var(--operator)">=</span> <span style="color:var(--variable)">cvs</span>.<span style="color:var(--variable)">height</span> <span style="color:var(--operator)">/</span> <span style="color:var(--number)">2</span> <span style="color:var(--operator)">+</span> <span style="color:var(--variable)">Math</span>.<span style="color:var(--function)">cos</span>(<span style="color:var(--variable)">time</span> <span style="color:var(--operator)">+</span> <span style="color:var(--variable)">i</span> <span style="color:var(--operator)">*</span> <span style="color:var(--variable)">Math</span>.<span style="color:var(--variable)">PI</span><span style="color:var(--operator)">)</span> <span style="color:var(--operator)">*</span> <span style="color:var(--variable)">cvs</span>.<span style="color:var(--variable)">height</span> <span style="color:var(--operator)">/</span> <span style="color:var(--number)">4</span> <span style="color:var(--operator)">-</span> <span style="color:var(--number)">10</span>

    <span style="color:var(--comment)">if (y > cvs.height / 2) y = cvs.height / 2
    y += yDrop

    const swing = Math.sin(time + i * Math.PI)
    let rise = swing
    if (rise &lt; 0) rise = 0
    y -= rise * 40</span></pre>
                    </div>

                    <div class = 'text shift'>
                        <p class = spaced>
                            Of course, the manner of this walk can be changed by
                            stretching its movement or by giving it more
                            characteristic swings. The example below really
                            shows how extreme you be with the animation.
                        </p>
                    </div>

                    <iframe src = /assets/fear-of-crowds-2 class = demo-frame></iframe>

                    <div class = 'code-holder top bottom'>
                        <div class = code-buttons>
                            <a target = _blank href = /assets/fear-of-crowds-2>
                                <div data-tip = 'run' class = 'code-run code-button-icon'>
                                    <img src = /assets/run.svg alt = 'play icon'>
                                </div>
                            </a>
                            <div data-tip = 'copy' class = 'code-copy code-button-icon'>
                                <img src = /assets/copy.svg alt = 'copy icon'>
                            </div>
                        </div>
                        <pre class = code><span style="color:var(--comment)">for (let i >= 2; i --;) {</span>
    <span style="color:var(--keyword)">const</span> <span style="color:var(--variable)">x</span> <span style="color:var(--operator)">=</span> <span style="color:var(--operator)">-</span><span style="color:var(--variable)">Math</span>.<span style="color:var(--function)">sin</span>(<span style="color:var(--variable)">time</span> <span style="color:var(--operator)">+</span> <span style="color:var(--variable)">i</span> <span style="color:var(--operator)">*</span> <span style="color:var(--variable)">Math</span>.<span style="color:var(--variable)">PI</span> <span style="color:var(--operator)">+</span> <span style="color:var(--variable)">Math</span>.<span style="color:var(--function)">sin</span>(<span style="color:var(--variable)">time</span> <span style="color:var(--operator)">+</span> <span style="color:var(--variable)">i</span> <span style="color:var(--operator)">*</span> <span style="color:var(--variable)">Math</span>.<span style="color:var(--variable)">PI</span> <span style="color:var(--operator)">+</span> <span style="color:var(--number)">2</span><span style="color:var(--operator)">)</span> <span style="color:var(--operator)">*</span> .<span style="color:var(--number)">3</span><span style="color:var(--operator)">)</span> <span style="color:var(--operator)">*</span> <span style="color:var(--number)">100</span>
    <span style="color:var(--keyword)">let</span> <span style="color:var(--variable)">y</span> <span style="color:var(--operator)">=</span> <span style="color:var(--number)">30</span> <span style="color:var(--operator)">+</span> <span style="color:var(--variable)">Math</span>.<span style="color:var(--function)">cos</span>(<span style="color:var(--variable)">time</span> <span style="color:var(--operator)">+</span> <span style="color:var(--variable)">i</span> <span style="color:var(--operator)">*</span> <span style="color:var(--variable)">Math</span>.<span style="color:var(--variable)">PI</span> <span style="color:var(--operator)">+</span> <span style="color:var(--variable)">Math</span>.<span style="color:var(--function)">sin</span>(<span style="color:var(--variable)">time</span> <span style="color:var(--operator)">+</span> <span style="color:var(--variable)">i</span> <span style="color:var(--operator)">*</span> <span style="color:var(--variable)">Math</span>.<span style="color:var(--variable)">PI</span> <span style="color:var(--operator)">+</span> <span style="color:var(--number)">2</span><span style="color:var(--operator)">))</span> <span style="color:var(--operator)">*</span> <span style="color:var(--number)">130</span>

    <span style="color:var(--keyword)">if</span> <span style="color:var(--operator)">(</span><span style="color:var(--variable)">y</span> <span style="color:var(--operator)">></span> <span style="color:var(--number)">0</span><span style="color:var(--operator)">)</span> <span style="color:var(--variable)">y</span> <span style="color:var(--operator)">=</span> <span style="color:var(--number)">0</span>

    <span style="color:var(--keyword)">const</span> <span style="color:var(--variable)">swing</span> <span style="color:var(--operator)">=</span> <span style="color:var(--variable)">Math</span>.<span style="color:var(--function)">sin</span>(<span style="color:var(--variable)">time</span> <span style="color:var(--operator)">+</span> <span style="color:var(--variable)">i</span> <span style="color:var(--operator)">*</span> <span style="color:var(--variable)">Math</span>.<span style="color:var(--variable)">PI</span> <span style="color:var(--operator)">+</span> <span style="color:var(--variable)">Math</span>.<span style="color:var(--function)">sin</span>(<span style="color:var(--variable)">time</span> <span style="color:var(--operator)">+</span> <span style="color:var(--variable)">i</span> <span style="color:var(--operator)">*</span> <span style="color:var(--variable)">Math</span>.<span style="color:var(--variable)">PI</span> <span style="color:var(--operator)">+</span> <span style="color:var(--number)">3</span>.<span style="color:var(--number)">1</span><span style="color:var(--operator)">))</span> <span style="color:var(--operator)">*</span> <span style="color:var(--number)">1</span>.<span style="color:var(--number)">3</span>
    <span style="color:var(--keyword)">let</span> <span style="color:var(--variable)">rise</span> <span style="color:var(--operator)">=</span> <span style="color:var(--variable)">swing</span>
    <span style="color:var(--keyword)">if</span> <span style="color:var(--operator)">(</span><span style="color:var(--variable)">rise</span> <span style="color:var(--operator)">&lt;</span> <span style="color:var(--number)">0</span><span style="color:var(--operator)">)</span> <span style="color:var(--variable)">rise</span> <span style="color:var(--operator)">=</span> <span style="color:var(--number)">0</span>
    <span style="color:var(--variable)">y</span> <span style="color:var(--operator)">-=</span> <span style="color:var(--variable)">rise</span> <span style="color:var(--operator)">*</span> <span style="color:var(--number)">40</span></pre>

                        <div class = 'text shift'>
                            <p class = spaced>
                                In the above example I tried to make the walk a
                                bit comical, so you'd probably want to tweak it
                                based on what you're using it for, as human and
                                animal walks are usually less extreme. For a
                                larger implementation, see
                                <a class = link target = _blank href = /blog/snakes-and-ladders-enemies>
                                    this post</a>.
                            </p>

                            <p class = spaced>
                                I hope you found this page as helpful as I found
                                it fun. Please contact me if you have any more
                                ideas for experiments!
                            </p>
                        </div>
                    </div>
                </div>

                <div class = 'content bottom-huge top-pad'>
                    <h2 class = 'h3 top-big'>Free and Open Source!</h2>
                    <div class = 'text shift bottom-big'>
                        <p class = spaced>
                            As a rule, all my projects are free and have their source
                            code disclosed. Feel free to make your own versions
                            of this project on GitHub! Licensed under
                            <a class = 'link block' target = _blank href = https://creativecommons.org/licenses/by-sa/4.0>
                                CC-BY-SA-4.0</a>.
                        </p>
                    </div>
                </div>

                <div class = 'content top bottom-huge'>
                    <form class = 'comment bottom-big-pad' data-url = FearOfCrowds>
                        <h3 class = 'h3 top-small bottom-small center'>
                            <span class = slightly-dim>
                                Please leave a comment!
                            </span>
                        </h3>

                        <input class = form placeholder = 'name'>
                        <label for = notify class = checkbox-label>
                            <div class = checkbox-hold>
                                <input id = notify class = checkbox data-checked type = checkbox>
                            </div>
                            <span class = 'smallish slightly-dim'>Make this comment public</span>
                        </label>

                        <div class = comment-box-hold>
                            <textarea class = comment-box required contenteditable placeholder = 'Write your message here'></textarea>
                        </div>

                        <input class = form type = email placeholder = 'email (optional)'>
                        <button class = comment-send>Post Comment</button>
                        <span class = 'dim small-font shift-right right'>(Your email will never be shared or sold. <button class = popup-link data-id = terms type = button>Terms</button>)</span>
                    </form>
                </div>
            </section>

            <section class = footer>
                <div class = footer-left>
                    <span>&copy; Joachim Ford <span id = year>2025</span></span>
                    <span>All rights reserved</span>
                    <span class = top-small>
                        <form class = 'subscribe-form-tiny'>
                            <div class = flex-x>
                                <input type = email class = form placeholder = 'email' required>
                                <button class = send-form-button type = submit>
                                    Subscribe
                                </button>
                            </div>
                        </form>
                    </span>
                    <div class = 'footer-socials top-small'>
                        <a href = mailto:hi@joachimford.uk target = _blank><img src = /assets/mail.svg alt = 'email icon'></a>
                        <a href = https://github.com/Hope41 target = _blank><img src = /assets/github.svg alt = 'github icon'></a>
                        <a href = https://youtube.com/@JoachimFord target = _blank><img src = /assets/youtube.svg alt = 'youtube icon'></a>
                        <a href = https://joachimford.itch.io target = _blank><img src = /assets/itch.svg alt = 'itch.io icon'></a>
                        <a href = https://hope41.bsky.social target = _blank><img src = /assets/bsky.svg alt = 'bsky logo'></a>
                    </div>
                </div>
                <div class = footer-right>
                    <a href = /index# class = basic-link>Home</a>
                    <a href = /games# class = basic-link>Games</a>
                    <a href = /projects# class = basic-link>Projects</a>
                    <a href = /blog# class = basic-link>Blog</a>
                    <a href = /news# class = basic-link>News</a>
                    <a href = /about# class = basic-link>About</a>
                    <a href = /contact# class = basic-link>Contact</a>
                </div>
            </section>
        </div>

        <div class = popup id = terms>
            <div class = popup-text-hold>
                <div class = popup-close data-id = terms>
                    <img src = /assets/close.svg>
                </div>
                <div class = popup-text>
                    <h2 class = h4><span class = gray-green>Posting a Comment</span></h2>
                    <h2 class = h2>Terms</h2>
                    <div class = 'text shift-right'>
                        <p class = spaced>
                            <span class = 'bullet-point big-pad'>
                                If you post your comment publicly, you agree to
                                have your <b>name</b> and <b>message</b> posted
                                on this website. Your comment may also appear in
                                advertisements for this site.
                            </span>
                        </p>
                        <p class = spaced>
                            <span class = 'bullet-point big-pad'>
                                By providing an email address, you will be notified
                                of any replies. I may also respond to you directly
                                via the email address provided.
                            </span>
                        </p>
                        <p class = spaced>
                            Your email will only be used for these purposes
                            and will never be published, shared or sold.
                        </p>
                        <p class = 'spaced smallish'>
                            The only catch is I get to make you a profile picture
                            based on your name
                            <img class = emoji src = /assets/Microsoft-Fluentui-Emoji-3d-Smirking-Face-3d.svg>
                        </p>
                        <button class = popup-close data-id = terms>
                            I Understand
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <div id = lightbox-overlay>
            <div id = lightbox-topnav>
                <div id = lightbox-copy class = lightbox-button>
                    <img src = /assets/copy.svg>
                </div>
                <div id = lightbox-download class = lightbox-button>
                    <img src = /assets/download.svg>
                </div>
                <div id = lightbox-close class = lightbox-button>
                    <img src = /assets/close.svg>
                </div>
            </div>
            <img src = /assets/ios-mission-1-thumbnail.png id = lightbox-img>
            <div id = lightbox-prev><img src = /assets/arrow-left.svg></div>
            <div id = lightbox-next><img src = /assets/arrow-right.svg></div>
        </div>

        <script src = /assets/main.js></script>
        <script src = /assets/infinite-carousel.js></script>
        <script src = /assets/hero.js></script>
        <script src = /assets/cool-text.js></script>
        <script src = /assets/popup.js></script>
        <script src = /assets/profile-interact.js></script>
        <script src = /assets/demo-carousel.js></script>
        <script src = /assets/lightbox.js></script>
    </body>
</html>