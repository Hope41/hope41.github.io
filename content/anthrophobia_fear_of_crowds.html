<!DOCTYPE html>
<html>
    <head>
        <meta charset = utf-8>
        <meta name = viewport content = 'width = device-width, initial-scale = 1'>
        <meta name = keywords content = 'Joachim Ford, Crowd Simulation, JavaScript Demo'>

        <script async src = 'https://www.googletagmanager.com/gtag/js?id=G-2MDQ9F697V'></script>
        <script src = /js/analytics.js></script>
        <script src = /js/main.js></script>
        <title>Joachim Ford</title>
        <link rel = stylesheet href = /main.css>
        <link rel = icon type = image/x-icon  href = /favs/favicon.ico>
    </head>

    <body>
        <section class = topnav>
            <div class = joachimford>
                <a href = '/'>Joachim Ford</a>
            </div>
            <div class = nav>
                <a class = text href = /games>Games</a>
                <a class = text href = /articles>Articles</a>
                <a class = text href = /news>News</a>
                <a class = text href = /experiments>Experiments</a>
                <a class = text href = https://github.com/Hope41 target = _blank><img src = /svg/github.svg></img></a>
                <a class = text href = mailto:hello@joachimford.uk><img src = /svg/mail.svg></img></a>
            </div>
            <img class = bars src = /svg/bars.svg onmousedown = bar()></img>
        </section>

        <section class = main>
            <span class = date>15.01.2022</span>
            <h1>Anthrophobia</h1>

            <div class = big>
                <a href = /anthrophobia target = _blank>
                    <img class = img src = /images/anthrophobia_fear_of_crowds_big.png>
                    <div class = play><img src = /svg/play.svg></svg></div>
                </a>
            </div>

            <div class = quote>
                <b>It all began when I made a <a class = normal href = https://www.dwitter.net/d/24669 target = _blank>dweet</a>
                on the last day of 2021. It had potential, and it turned out that both this and my game
                <a class = normal href = /content/snakes_and_ladders target = _blank>
                Snakes And Ladders</a> were inspired from it.</b>
            </div>
            <span class = gap>
                Here is the complete source code:
            </span>
            <div class = code source = /anthrophobia></div>
            <span class = gap>
                Making procedural creatures (like these) is actually pretty simple.
                The idea is to generate a template "box-man" and then
                apply randomness to it's colour, body height, arm length, leg length,
                eye distance, eye size ect...,
                and then to move each figure in a random direction, stop at intervals,
                blink, and look around.
                <p></p>
                I think the most notable part of this experiment is the way some of
                these creatures walk. This function is based on a circular movement
                which is limited at the bottom to create a simple walking motion. Quite a handy
                trick for when you need it.
            </span>
            <div class = iframe source = extra/anthrophobia_fear_of_crowds/1.html></div>
            <div class = code>¬const yDrop = cvs.height / 5

for (let i = 2; i --;) {¬
    const x = cvs.width / 2 - Math.sin(time + i * Math.PI)¬ * cvs.height / 4 - 10
    ¬let y = cvs.height / 2 + Math.cos(time + i * Math.PI)¬ * cvs.height / 4 - 10

    if (y > cvs.height / 2) y = cvs.height / 2
    y += yDrop

    ¬const swing = Math.sin(time + i * Math.PI)¬
    let rise = swing
    if (rise < 0) rise = 0
    y -= rise * 40</div>

            <span class = gap>
                Of course, the manner of this walk can be changed by stretching its
                movement or by giving it more characteristic bops and drags. The example
                below really shows how loose you can be with the whole thing. For me,
                this walk is much better.
            </span>

            <div class = iframe source = extra/anthrophobia_fear_of_crowds/2.html></div>
            <div class = code>¬for (let i = 2; i --;) {
    ¬const x = -Math.sin(time + i * Math.PI + Math.sin(time + i * Math.PI + 2) * .3)¬ * 100
    ¬let y = Math.cos(time + i * Math.PI + Math.sin(time + i * Math.PI + 2))¬ * 100

    if (y > 0) y = 0

    ¬const swing = Math.sin(time + i * Math.PI + Math.sin(time + i * Math.PI + 3.1))¬
    let rise = swing
    if (rise < 0) rise = 0
    y -= rise * 40</div>

            <span class = gap>
                In the above example, I tried to make the walk a bit comical,
                but you'd probably want to tweak it based on
                what your using it for, as human and animal walks are usually
                a bit less extreme. For a larger implementation, see
                <a class = normal href = /articles/snakes_and_ladders_talk_through_side_effects>
                this article</a>.
                <p></p>
                Anyway, I hope you found this page as helpful as I found it fun. Please
                <a class = normal href = mailto:contactme@joachimford.uk>contact me</a>
                if you have any more ideas for experiments!
            </span>
        </section>

        <span class = copyright>
            © Copyright <span class = year></span>
            Joachimford.uk — <a class = normal href = mailto:contact@joachimford.uk>contact@joachimford.uk</a>
        </span>
    </body>
</html>
