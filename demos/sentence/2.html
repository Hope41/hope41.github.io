<!DOCTYPE html>
    <head>
        <meta charset = utf-8>

        <style>
            html {
                font-family: arial;
            }
        </style>
    </head>
    <body>
        One road segment moving

        <script>
            addEventListener('resize', resize)
            document.body.style.margin = 0
            document.body.style.overflow = 'hidden'
            document.body.style.background = '#fff'
            let c = document.createElement('canvas')
            let ctx = c.getContext('2d')
            document.body.appendChild(c)

            let speed = 0.1
            let camera_height = 10
            let segment = {x: innerWidth / 2, y: innerHeight / 2, size: 1}

            function resize() {
                c.width = innerWidth
                c.height = innerHeight

                segment.y = innerHeight / 2
                segment.x = innerWidth / 2
            }

            function loop() {
                c.width = c.width
                c.style.background = '#588'

                segment.size *= 1 + speed
                segment.y += (segment.size * camera_height) / 100

                if (segment.y > innerHeight) {
                    segment.y = innerHeight / 2
                    segment.size = 1
                }

                ctx.fillStyle = '#0b5'
                ctx.fillRect(0, segment.y, innerWidth, segment.size)
                ctx.fillStyle = '#555'
                ctx.fillRect(segment.x - segment.size / 2, segment.y, segment.size, segment.size)
                ctx.fillStyle = '#ddd'
                ctx.fillRect(segment.x - segment.size / 20, segment.y, segment.size / 10, segment.size)

                requestAnimationFrame(loop)
            }
            loop()
            resize()
        </script>
    </body>
</html>
