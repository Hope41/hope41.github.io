<!DOCTYPE html>
    <head>
        <title>Sentence</title>
        <meta charset = utf-8>

        <script src = ../../main.js></script>
        <link rel = stylesheet href = ../../main.css>
    </head>
    <body>
        <section class = main>
            <button id = button onclick = load()>Click here to make a sentence</button><p></p>
            <div id = box></div>
        </section>

        <script>
            // @ means plural
            // # means irregular noun

            let articles = ['the', 'a', '@some', '@many', '@a lot of', '@a few']
            let adjectives = ['annoying', 'little', 'bad', 'sad', 'angry', 'lazy', 'adventurous', 'aggressive', 'brave', 'clumsy', 'defeated', 'smug', 'nervous']
            let subject_nouns = ['man#men', 'ant', 'creature', 'monster', 'frog', 'cat', 'dog', 'bug', 'dragon', 'flea', 'knight']
            let object_nouns = ['mouse#mice', 'house', 'hill', 'table', 'stool', 'rat', 'thing', 'fast train', 'bed', 'boy', 'object', 'penguin', 'bad thing']
            let verbs = ['sat', 'jumped', 'choked', 'skipped', 'fell', 'landed', 'screamed', 'cried', 'walked', 'ran', 'frowned', 'sniffed', 'fought', 'talked']
            let prepositions = ['on', 'next to', 'beside', 'behind', 'opposite']

            let a = ad = s = o = v = p = ''

            function random(min, max) {
                return Math.round(Math.random() * (max - min) + min)
            }

            function generate() {
                a = articles[random(0, articles.length - 1)]
                ad = adjectives[random(0, adjectives.length - 1)]
                s = subject_nouns[random(0, subject_nouns.length - 1)]
                o = object_nouns[random(0, object_nouns.length - 1)]
                v = verbs[random(0, verbs.length - 1)]
                p = prepositions[random(0, prepositions.length - 1)]
            }

            function sort(obj) {
                generate()

                let i = eval(obj)

                if (a.charAt(0) == '@') {
                    a = a.replace('@', '')

                    if (i.includes('#')) {
                        i = i.substring(i.indexOf('#') + 1, i.length)
                    }

                    else {
                        i += 's'
                    }
                }

                else {
                    if (i.includes('#')) {
                        i = i.substring(0, i.indexOf('#'))
                    }
                }

                if (a == 'a') {
                    if (obj == 's') {
                        if (ad.charAt(0) == 'a' ||
                            ad.charAt(0) == 'e' ||
                            ad.charAt(0) == 'i' ||
                            ad.charAt(0) == 'o' ||
                            ad.charAt(0) == 'u') {
                                a = 'an'
                        }
                    }

                    if (obj == 'o') {
                        if (o.charAt(0) == 'a' ||
                            o.charAt(0) == 'e' ||
                            o.charAt(0) == 'i' ||
                            o.charAt(0) == 'o' ||
                            o.charAt(0) == 'u') {
                                a = 'an'
                        }
                    }
                }

                s = i
                o = i
            }

            function load() {
                let str = ''

                sort('s')

                str += a + ' '
                str += ad + ' '
                str += s + ' '
                str += v + ' '
                str += p + ' '

                sort('o')

                str += a + ' '
                str += o + '.'

                document.getElementById('box').innerHTML = '<h3><span class = note>' + str + '</span></h3>'
            }
        </script>
    </body>
</html>